<div class="invitation-form">

  <div class="form-group">
    <label for="name">
      Nome do Convite
      <span class="required">*</span>
    </label>
    <input
      id="name"
      type="text"
      [(ngModel)]="form.name"
      placeholder="Ex: Acesso Cliente XYZ"
      [disabled]="loading">
  </div>

  <div class="form-group">
    <label for="description">Descrição</label>
    <textarea
      id="description"
      [(ngModel)]="form.description"
      placeholder="Descreva o propósito deste convite..."
      rows="3"
      [disabled]="loading"></textarea>
  </div>

  <!-- Expiração -->
  <div class="form-group">
    <label>
      <i class="bx bx-time"></i>
      Tempo de Expiração
    </label>
    <div class="preset-buttons">
      @for (preset of expirationPresets; track preset.value) {
        <button
          type="button"
          class="preset-btn"
          [class.active]="form.expiresInDays === preset.value"
          (click)="selectExpirationPreset(preset.value)"
          [disabled]="loading">
          {{ preset.label }}
        </button>
      }
    </div>
    <div class="custom-input">
      <input
        type="number"
        [(ngModel)]="form.expiresInDays"
        placeholder="Ou digite o número de dias"
        min="1"
        max="365"
        [disabled]="loading">
      <span class="input-suffix">dias</span>
    </div>
  </div>

  <!-- Limite de Usos -->
  <div class="form-group">
    <label>
      <i class="bx bx-user"></i>
      Limite de Acessos
    </label>
    <div class="preset-buttons">
      @for (preset of usagePresets; track preset.value) {
        <button
          type="button"
          class="preset-btn"
          [class.active]="form.maxUses === preset.value"
          (click)="selectUsagePreset(preset.value)"
          [disabled]="loading">
          {{ preset.label }}
        </button>
      }
    </div>
    <div class="custom-input">
      <input
        type="number"
        [(ngModel)]="form.maxUses"
        placeholder="Ou digite o número de acessos"
        min="1"
        [disabled]="loading">
      <span class="input-suffix">acessos</span>
    </div>
  </div>

  <!-- Status (apenas em edição) -->
  @if (isEditMode) {
    <div class="form-group">
      <label class="checkbox-label">
        <input
          type="checkbox"
          [(ngModel)]="form.active"
          [disabled]="loading">
        <span>Convite ativo</span>
      </label>
      <p class="help-text">Desmarque para desativar temporariamente o convite</p>
    </div>
  }

  <!-- Info Box -->
  <div class="info-box">
    <i class="bx bx-info-circle"></i>
    <div>
      <strong>Sobre os convites:</strong>
      <ul>
        <li>O link será gerado automaticamente</li>
        <li>Você pode revogar o acesso a qualquer momento</li>
        <li>Todos os acessos serão registrados para auditoria</li>
      </ul>
    </div>
  </div>

  <!-- Actions -->
  <div class="form-actions">
    <button
      type="button"
      class="btn-secondary"
      (click)="cancel()"
      [disabled]="loading">
      Cancelar
    </button>
    <ub-button
      [loading]="loading"
      (click)="save()">
      {{ isEditMode ? 'Atualizar' : 'Criar Convite' }}
    </ub-button>
  </div>

</div>
